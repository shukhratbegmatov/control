import{_ as M}from"./ViewDoc.vue_vue_type_script_setup_true_lang-DWU0PMmW.js";import{_ as T}from"./CLoader.vue_vue_type_script_setup_true_lang-DQKbESRQ.js";import{d as k,o as s,c as d,b as e,r as v,x as g,w as m,k as h,y,z as A,A as E,s as U,i as u,B as Y,a as H,v as I,C as O,h as P,e as _,j as o,F as Q,D as X,f as l,l as z}from"./index-Dpjr3xtB.js";import{D as G}from"./docs-D67QU9en.js";import"./generate-D1Dyt2It.js";import"./lodash-D2FcPIwX.js";import"./moment-Cijl8gKs.js";const D="/img/not-found.png",J={key:0,class:"flex flex-col w-full justify-center items-center text-center min-h-[300px]"},K=e("div",{class:"mb-6"},[e("img",{src:D,alt:""})],-1),W=e("div",{class:"font-semibold"},"Ma'lumot topilmadi",-1),Z=[K,W],ee={key:1,colspan:"10",class:"app-not-found"},te=e("div",{class:"flex flex-col w-full justify-center items-center text-center min-h-[300px]"},[e("div",{class:"mb-6"},[e("img",{src:D,alt:""})]),e("div",{class:"font-semibold"},"Ma'lumot topilmadi")],-1),ae=[te],se=k({__name:"AppNotFound",props:{mode:{default:"card"}},setup(b){return(a,p)=>a.mode=="card"?(s(),d("div",J,Z)):(s(),d("td",ee,ae))}}),oe=k({__name:"CStatus",props:{rate:{}},setup(b){return(a,p)=>{const i=v("n-tag");return a.rate==100?(s(),g(i,y({key:0,type:"info",round:"",secondary:""},a.$attrs),{default:m(()=>[h(" Quyi ")]),_:1},16)):a.rate==200?(s(),g(i,y({key:1,type:"warning",round:"",secondary:""},a.$attrs),{default:m(()=>[h(" O'rta ")]),_:1},16)):a.rate==300?(s(),g(i,y({key:2,type:"error",round:"",secondary:""},a.$attrs),{default:m(()=>[h(" Yuqori ")]),_:1},16)):A("",!0)}}}),ne={class:"pb-4 border-b border-secondary"},le={style:{height:"calc(100vh - 220px)"}},re={class:"my-table"},ie=e("thead",null,[e("tr",null,[e("td",{class:"text-left",style:{"line-height":"1"}},"â„–"),e("td",{class:"text-left",style:{"line-height":"1"}},"Tashkilot nomi"),e("td",{class:"text-left",style:{"line-height":"1"}},"Tekshiruv sanasi"),e("td",{class:"text-left",style:{"line-height":"1"}},"Yetkazilgan zararu miqdori (m3)"),e("td",{class:"text-left",style:{"line-height":"1"}},"Hudud"),e("td",{class:"text-left",style:{"line-height":"1"}},"Buyruq"),e("td",{class:"text-left",style:{"line-height":"1"}},"Xavf darajasi")])],-1),ce={key:0},ue=["onClick"],ve=k({__name:"index",setup(b){E.useToast(),U();let a=u(!1),p=u([]),i=u(0);const x=Y(),N=H();let r=u(Number(x.query.page||1)),n=u(Number(x.query.per_page||10));const w=I(()=>({page:r.value,per_page:n.value}));O(()=>w.value,()=>{$(),N.replace({query:{page:r.value,per_page:n.value}})},{deep:!0});async function $(){try{a.value=!0;let c=await G.getList(w.value);p.value=c.data.data,i.value=c.data.meta.totalCount}finally{a.value=!1}}P($);let C=u();function q(c){C.value.view(c.key)}return(c,f)=>{const B=oe,R=se,S=v("n-scrollbar"),V=v("n-pagination"),j=T,F=M;return s(),d("div",null,[_(j,{active:o(a)},{default:m(()=>[e("div",ne,[_(S,null,{default:m(()=>[e("div",le,[e("table",re,[ie,o(p).length?(s(),d("tbody",ce,[(s(!0),d(Q,null,X(o(p),(t,L)=>(s(),d("tr",{onClick:de=>q(t),class:"cursor-pointer"},[e("td",null,l(c.$paginate(L,o(r),o(n))),1),e("td",null,l(t.title),1),e("td",null,l(t==null?void 0:t.start_date),1),e("td",null,l(t.amount),1),e("td",null,l(t.region.name)+" "+l(t.district.name),1),e("td",null,l(t.order_number)+"/ "+l(t.order_date),1),e("td",null,[_(B,{rate:t.rate},null,8,["rate"])])],8,ue))),256))])):(s(),g(R,{key:1,mode:"table"}))])])]),_:1}),_(V,{class:"mt-2",page:o(r),"onUpdate:page":f[0]||(f[0]=t=>z(r)?r.value=t:r=t),"page-size":o(n),"onUpdate:pageSize":f[1]||(f[1]=t=>z(n)?n.value=t:n=t),"page-count":Math.ceil(o(i)/o(n)),"show-size-picker":"","page-sizes":[5,10,20,30,40]},null,8,["page","page-size","page-count"])])]),_:1},8,["active"]),_(F,{ref_key:"viewDocRef",ref:C},null,512)])}}});export{ve as default};
